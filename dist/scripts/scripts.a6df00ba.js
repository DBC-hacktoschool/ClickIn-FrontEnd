"use strict";angular.module("clickInFrontEndApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","chart.js"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/session",{templateUrl:"views/session.html",controller:"SessionCtrl",controllerAs:"session"}).when("/results",{templateUrl:"views/results.html",controller:"ResultsCtrl",controllerAs:"results"}).otherwise({redirectTo:"/"})}]),angular.module("clickInFrontEndApp").controller("MainCtrl",["$scope","$log","sessionService",function(a,b,c){a.sessionCode=c.code,a.email="example@email.com",a.$watch("sessionCode",function(){c.code=a.sessionCode}),a.update=function(d,e){a.sessionCode=d,c.code=d,a.email=e,b.log("Session Code: ",a.sessionCode,"Service Code: ",c.code,"Email: ",a.email)},this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clickInFrontEndApp").controller("SessionCtrl",["$scope","$location","$resource","$log","sessionService",function(a,b,c,d,e){a.sessionCode=e.code,e.Lecture.get().$promise.then(function(b){a.question=b.poll.question,a.answers=b.poll.answers,e.question=b.poll.question,e.answers=b.poll.answers}),a.clickin=function(a){d.log("selected answer: ",a),e.lecture=e.Lecture.pupdate(a).$promise.then(function(a){e.question=a.poll.question,e.answers=a.poll.answers})},this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clickInFrontEndApp").service("sessionService",["$resource",function(a){this.code="BARK",this.Lecture=a("http://clickin-backend.herokuapp.com/api/sessions/:session_code",{session_code:this.code},{pupdate:{method:"PATCH"}}),this.question={},this.answers=[]}]),angular.module("clickInFrontEndApp").controller("ResultsCtrl",["$scope","$resource","$log","sessionService",function(a,b,c,d){a.sessionCode=d.code,c.log("SESSION LECTURE: ",d.answers),a.question=d.question,a.answers=d.answers;var e=function(b,c){a.legend=!0,a.labels=[],a.data=[],a.answers=c,a.question=b,c.forEach(function(b){a.labels.push(b.content),a.data.push(b.count)})};e(a.question,a.answers);var f=io("http://clickin-backend.herokuapp.com");f.on("result",function(b){console.log("RECEIVED: ",b),c.log(b.poll.answers),e(b.poll.question,b.poll.answers),a.$apply()}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clickInFrontEndApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="container"> <h2>Welcome</h2> <div class="form-group"> <h4>Enter a Session Code</h4> <input type="text" ng-model="sessionCode" class="form-control"> <h4>Email</h4> <input type="text" ng-model="email" class="form-control"><br> <a href="#/session" class="btn btn-primary" ng-touch="update(sessionCode, email)" ng-click="update(sessionCode, email)">Submit</a> </div> </div>'),a.put("views/results.html",'<h3>{{question.content}}</h3> <h4>Click-Ins: {{question.count}}</h4> <h3>Results</h3> <canvas id="pie" class="chart chart-pie" data="data" labels="labels" legend="legend"></canvas>'),a.put("views/session.html",'<h3>Question: {{question.content}}</h3> <div class="row"> <div ng-repeat="answer in answers" class="col-xs-6"> <a href="#/results" class="btn btn-lg" ng-touch="clickin(answer)" ng-click="clickin(answer)">{{answer.content}}</a> </div> </div>')}]);